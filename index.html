<!DOCTYPE html>
<html lang="en" class="w-screen h-screen">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify XM - Music Player</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Funnel+Sans:ital,wght@0,300..800;1,300..800&family=Six+Caps&display=swap" rel="stylesheet">
    <link href="./src/output.css" rel="stylesheet">
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
</head>
<body class="w-full bg-emerald-950 m-0 p-0 text-white flex flex-col items-start justify-start h-screen min-h-screen overflow-hidden funnel-sans">
    <div class="stations relative overflow-hidden py-2 flex flex-col gap-0 bg-emerald-900 rounded-br-3xl w-[calc(100%-1.5rem)] shadow-[0_0_200px_rgba(0,0,0,1)] z-20 transition-transform duration-500 ease-in-out translate-x-0">
      <div class="flex flex-row items-center justify-between px-6 pt-3">

        <h2 class="funnel-sans text-2xl text-white flex flex-row items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-emerald-300">
            <path d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z" />
          </svg>
          <span class="caps">YOUR STATIONS</span>
      </h2>

        <a href="#" class="menu-button">
          <svg width="116" height="110" viewBox="0 0 116 110" xmlns="http://www.w3.org/2000/svg" class="size-6 fill-emerald-300">
            <path d="M22.208 65.9502C24.975 61.8546 31.0301 61.8542 33.7969 65.9502L33.9277 66.1514L54.1729 98.3408L54.3057 98.5596C56.9995 103.19 53.6677 109.067 48.2471 109.067H7.75781C2.25097 109.067 -1.09948 103.002 1.83203 98.3408L22.0771 66.1514L22.208 65.9502ZM67.0498 62.0508C69.7835 59.3171 74.2165 59.3171 76.9502 62.0508L89.499 74.5996L101.874 62.2256L102.136 61.9766C104.884 59.4941 109.125 59.5775 111.773 62.2256C114.422 64.8737 114.505 69.1154 112.022 71.8633L111.773 72.125L99.3984 84.499L111.774 96.875L112.023 97.1367C114.506 99.8846 114.423 104.126 111.774 106.774C109.126 109.423 104.885 109.506 102.137 107.023L101.875 106.774L89.499 94.3984L76.9492 106.95C74.2157 109.684 69.7835 109.683 67.0498 106.95C64.3161 104.217 64.3161 99.7835 67.0498 97.0498L79.5996 84.499L67.0498 71.9502C64.3163 69.2167 64.3166 64.7845 67.0498 62.0508ZM16.8086 97.0674H39.1953L28.002 79.2695L16.8086 97.0674ZM37 0C46.9411 3.2215e-07 55 8.05888 55 18V37C55 46.9411 46.9411 55 37 55H18C8.05888 55 3.22129e-07 46.9411 0 37V18C3.2215e-07 8.05888 8.05888 3.22129e-07 18 0H37ZM88.5 0C103.688 0 116 12.3122 116 27.5C116 42.6878 103.688 55 88.5 55C73.3122 55 61 42.6878 61 27.5C61 12.3122 73.3122 0 88.5 0ZM18 12C14.6863 12 12 14.6863 12 18V37C12 40.3137 14.6863 43 18 43H37C40.3137 43 43 40.3137 43 37V18C43 14.6863 40.3137 12 37 12H18ZM88.5 12C79.9396 12 73 18.9396 73 27.5C73 36.0604 79.9396 43 88.5 43C97.0604 43 104 36.0604 104 27.5C104 18.9396 97.0604 12 88.5 12Z" fill="whi"/>
            </svg>
            
            
                               
        </a>
      </div>
      
        <div class="bg-edge absolute pointer-events-none bottom-0 right-0 w-full h-full bg-cover bg-bottom-right blur-2xl z-10" style="background-image: url('bg-edge.png');">
            
        </div>
    
        <!-- Station Carousel -->
        <div class="carousel relative mb-1 overflow-x-auto flex w-full space-x-4 no-scrollbar px-6 py-6 gap-3 z-20">
          <!-- Station 1: Liked Songs -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-liked.webp');">
              <span class="sr-only">Liked Songs</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Liked Songs</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Your favorites</h3>
          </div>
          <!-- Station 2: 70s Gold -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-70s.png');">
              <span class="sr-only">70s Gold</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">70s Gold</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Hits from the 70s</h3>
          </div>
          <!-- Station 3: All Out 80s -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-80s.png');">
              <span class="sr-only">All Out 80s</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">All Out 80s</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">The unforgettable 80s</h3>
          </div>
          <!-- Station 4: 90s Throwbacks -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-90s.png');">
              <span class="sr-only">90s Throwbacks</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">90s Throwbacks</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Biggest hits of the 90s</h3>
          </div>
          <!-- Station 5: Y2K Hits -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('placeholder.jpg');">
              <span class="sr-only">Y2K Hits</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Y2K Hits</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Pop from the 2000s</h3>
          </div>
          <!-- Station 6: Golden Oldies -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-oldies.png');">
              <span class="sr-only">Golden Oldies</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Golden Oldies</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Classics from the 50s & 60s</h3>
          </div>
          <!-- Station 7: Fresh Finds -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('placeholder.jpg');">
              <span class="sr-only">Fresh Finds</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Fresh Finds</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Latest music releases</h3>
          </div>
          <!-- Station 8: Party Bangers -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('placeholder.jpg');">
              <span class="sr-only">Party Bangers</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Party Bangers</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">High-energy anthems</h3>
          </div>
          <!-- Station 9: HS Rewind -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('placeholder.jpg');">
              <span class="sr-only">HS Rewind</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">HS Rewind</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">Your high school soundtrack</h3>
          </div>
          <!-- Station 10: Talk & Podcasts -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-1/3 rounded-lg cursor-pointer">
            <div class="cover aspect-[9/14] w-full mb-3 rounded-lg shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('placeholder.jpg');">
              <span class="sr-only">Talk & Podcasts</span>
            </div>
            <h2 class="text-sm text-white font-semibold mt-1 truncate w-full text-left">Talk & Podcasts</h2>
            <h3 class="text-xs text-emerald-300 truncate w-full text-left">News, comedy & stories</h3>
          </div>
        </div>
        
    </div>

    <div class="now-playing-container w-full relative z-20 mt-2 transition-transform duration-500 ease-in-out translate-x-0">
        <h2 class="funnel-sans text-2xl text-white px-6 pt-4 flex flex-row items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-emerald-300">
                <path fill-rule="evenodd" d="M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z" clip-rule="evenodd" />
            </svg>
            <span class="caps">NOW PLAYING</span>
        </h2>

        <div class="now-playing w-full p-6 grid grid-cols-3 gap-6">
            <div class="aspect-square cover w-full bg-cover bg-center rounded-lg shadow-lg transition-all duration-300" style="background-image: url('cover.png');">
            </div>
            <div class="track-meta col-span-2 w-full flex flex-col gap-0 justify-between">
                <div class="info">
                    <h2 class="track flex flex-col gap-1 text-xl font-semibold">
                        <span class="artist-name uppercase text-base text-emerald-300 line-clamp-1">Artist Name</span>
                        <span class="track-title funnel-display text-2xl line-clamp-2">Track Title</span>
                    </h2>
                    <p class="album-title text-emerald-300 opacity-50 line-clamp-1">Album Title</p>
                </div>
                <div class="time flex flex-row justify-between">
                    <div class="time-elapsed text-xs">0:00</div>
                    <div class="time-total text-xs">0:00</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Menu Panel -->
    <div id="settings-menu" class="fixed top-0 right-0 h-full w-[80%] max-w-md bg-emerald-800 shadow-2xl z-30 p-6 transform translate-x-full transition-transform duration-500 ease-in-out overflow-y-auto funnel-sans">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-semibold text-emerald-100">Settings</h2>
            <button id="close-settings-menu" class="text-emerald-300 hover:text-emerald-100">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8">
                    <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.72a.75.75 0 0 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd" />
                </svg>
            </button>
        </div>

        <div class="space-y-6">
            <!-- Playback Settings Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Playback</h3>
                <ul class="divide-y divide-emerald-700 bg-emerald-900/50 rounded-lg shadow">
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Crossfade</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-gray-200 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="false">
                            <span class="sr-only">Crossfade</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-0 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Gapless Playback</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-emerald-500 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="true">
                            <span class="sr-only">Gapless Playback</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-5 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4 hover:bg-emerald-700/30 cursor-pointer">
                        <span class="text-emerald-100">Audio Quality</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-emerald-400">
                            <path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
                        </svg>
                    </li>
                </ul>
            </div>

            <!-- Download Settings Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Downloads</h3>
                <ul class="divide-y divide-emerald-700 bg-emerald-900/50 rounded-lg shadow">
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Download using Cellular</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-gray-200 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="false">
                            <span class="sr-only">Download using Cellular</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-0 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4 hover:bg-emerald-700/30 cursor-pointer">
                        <span class="text-emerald-100">Clear Cache</span>
                        <span class="text-sm text-emerald-400">1.2 GB</span>
                    </li>
                </ul>
            </div>
            
            <!-- Notification Settings Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Notifications</h3>
                <fieldset class="bg-emerald-900/50 rounded-lg shadow p-4">
                    <legend class="sr-only">Notifications</legend>
                    <div class="space-y-5">
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="new-music" name="new-music" type="checkbox" checked class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="new-music" class="font-medium text-emerald-100">New Music Releases</label>
                                <p class="text-emerald-400">For artists you follow.</p>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="playlist-updates" name="playlist-updates" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="playlist-updates" class="font-medium text-emerald-100">Playlist Updates</label>
                                <p class="text-emerald-400">When your favorite playlists are updated.</p>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <!-- Global Playback Scrubber -->
    <div class="fixed bottom-0 top-0 left-0 w-full pointer-events-none z-10">
        <div class="progress h-full bg-emerald-800 transition-all duration-200 border-r-2 border-emerald-300" style="width: 0%;"></div>
    </div>

    <!-- Spotify Auth Overlay -->
    <div id="spotify-auth-overlay" class="fixed inset-0 bg-emerald-950 bg-opacity-95 flex flex-col items-center justify-center z-50" style="display: none;">
        <button id="connect-spotify-btn" class="funnel-sans bg-green-500 hover:bg-green-400 text-white text-2xl py-4 px-8 rounded-full shadow-lg focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-opacity-50 transition duration-150 ease-in-out transform hover:scale-105">
            <img src="spotify.svg" alt="Spotify" class="w-24 h-auto">
        </button>
    </div>

    <!-- Load the refactored JavaScript -->
    <script src="./src/spotify-player.js"></script>
    <script src="./src/menu.js"></script>
</body>
</html> 