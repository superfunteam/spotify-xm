<!DOCTYPE html>
<html lang="en" class="w-screen h-screen">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify XM - Music Player</title>
    <meta name="theme-color" content="#004E3B">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Funnel+Sans:ital,wght@0,300..800;1,300..800&family=Six+Caps&display=swap" rel="stylesheet">
    <link href="./src/output.css" rel="stylesheet">
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
</head>
<body class="w-full bg-emerald-950 m-0 p-0 text-white flex flex-col items-start justify-start h-screen min-h-screen overflow-hidden funnel-sans">
    <div class="stations relative overflow-hidden py-2 flex flex-col shrink-0 gap-0 bg-emerald-900 rounded-br-3xl w-[calc(100%-1.5rem)] shadow-[0_0_200px_rgba(0,0,0,1)] z-50 transition-transform duration-500 ease-in-out translate-x-0">
      <div class="flex flex-row items-center justify-between px-6 pt-3">

        <h2 class="funnel-sans text-3xl text-white flex flex-row items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 text-[#00FF19]">
              <path d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z" />
            </svg>
          <span class="caps">YOUR STATIONS</span>
        </h2>

        <a href="#" class="menu-button">
          
            <svg width="117" height="111" viewBox="0 0 117 111" fill="none" xmlns="http://www.w3.org/2000/svg" class="size-8 fill-spotify">
              <path d="M23.8384 64.9502C26.6052 60.8545 32.6593 60.8547 35.4263 64.9502L35.5581 65.1514L57.4331 99.9336C60.3648 104.595 57.015 110.66 51.5083 110.66H7.75735C2.25068 110.66 -1.09979 104.595 1.83156 99.9336L23.7066 65.1514L23.8384 64.9502ZM68.0503 63.0508C70.784 60.3171 75.2161 60.3171 77.9497 63.0508L90.4995 75.5996L102.875 63.2256L103.135 62.9766C105.883 60.4939 110.126 60.5774 112.774 63.2256C115.422 65.8737 115.505 70.1154 113.023 72.8633L112.774 73.125L100.399 85.499L112.775 97.875L113.024 98.1367C115.506 100.885 115.423 105.126 112.775 107.774C110.127 110.423 105.884 110.506 103.136 108.023L102.876 107.774L90.4995 95.3984L77.9488 107.95C75.2151 110.683 70.7829 110.684 68.0493 107.95C65.3157 105.217 65.3157 100.783 68.0493 98.0498L80.5991 85.499L68.0503 72.9502C65.3167 70.2166 65.3169 65.7845 68.0503 63.0508ZM16.8081 98.6602H42.4566L29.6323 78.2695L16.8081 98.6602ZM38.0005 0C47.9415 0.00019292 56.0005 8.05899 56.0005 18V37C56.0005 46.941 47.9415 54.9998 38.0005 55H19.0005C9.05938 55 1.00051 46.9411 1.00051 37V18C1.00051 8.05888 9.05938 3.22129e-07 19.0005 0H38.0005ZM89.5005 0C104.688 0.000191729 117.001 12.3123 117.001 27.5C117.001 42.6877 104.688 54.9998 89.5005 55C74.3127 55 62.0005 42.6878 62.0005 27.5C62.0005 12.3122 74.3127 0 89.5005 0ZM19.0005 12C15.6868 12 13.0005 14.6863 13.0005 18V37C13.0005 40.3137 15.6868 43 19.0005 43H38.0005C41.3141 42.9998 44.0005 40.3136 44.0005 37V18C44.0005 14.6864 41.3141 12.0002 38.0005 12H19.0005ZM89.5005 12C80.9401 12 74.0005 18.9396 74.0005 27.5C74.0005 36.0604 80.9401 43 89.5005 43C98.0608 42.9998 105.001 36.0603 105.001 27.5C105.001 18.9397 98.0608 12.0002 89.5005 12Z"/>
              </svg>
                                 
        </a>
      </div>
      
        <div class="bg-edge absolute pointer-events-none bottom-0 right-0 w-full h-full bg-cover bg-bottom-right blur-2xl z-10" style="background-image: url('bg-edge.png');">
            
        </div>
    
        <!-- Station Carousel -->
        <div class="carousel relative mb-1 overflow-x-auto flex w-full no-scrollbar px-6 pt-4 pb-6 gap-1">
          <!-- Station 1: Liked Songs -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station-liked.webp');">
                <span class="sr-only">Liked Songs</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Liked Songs</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Your favorites</h3>
          </div>
          <!-- Station 2: 90s Throwbacks -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">90s Throwbacks</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">90s Throwbacks</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Biggest hits of the 90s</h3>
          </div>
          <!-- Station 3: All Out 80s -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">All Out 80s</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">All Out 80s</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">The unforgettable 80s</h3>
          </div>
          <!-- Station 4: 70s Gold -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">70s Gold</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">70s Gold</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Hits from the 70s</h3>
          </div>
          <!-- Station 5: Y2K Hits -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">Y2K Hits</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Y2K Hits</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Pop from the 2000s</h3>
          </div>
          <!-- Station 6: Golden Oldies -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">Golden Oldies</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Golden Oldies</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Classics from the 50s & 60s</h3>
          </div>
          <!-- Station 7: Fresh Finds -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">Fresh Finds</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Fresh Finds</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Latest music releases</h3>
          </div>
          <!-- Station 8: Party Bangers -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
              <span class="sr-only">Party Bangers</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Party Bangers</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">High-energy anthems</h3>
          </div>
          <!-- Station 9: HS Rewind -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">HS Rewind</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">HS Rewind</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">Your high school soundtrack</h3>
          </div>
          <!-- Station 10: Talk & Podcasts -->
          <div class="station shrink-0 flex flex-col items-center space-y-0 w-[42%] rounded-lg cursor-pointer">
            <div class="cover-pad w-full mb-2">
              <div class="cover aspect-[9/14] w-full shadow-md bg-cover bg-center transition-all duration-200" style="background-image: url('stations/station.png');">
                <span class="sr-only">Talk & Podcasts</span>
              </div>
            </div>
            <h2 class="text-sm text-white font-semibold truncate w-full text-left px-2">Talk & Podcasts</h2>
            <h3 class="text-xs text-spotify truncate w-full text-left px-2">News, comedy & stories</h3>
          </div>
        </div>
        
    </div>

    <!-- Reworked Now Playing Container -->
    <div class="now-playing-container w-full relative mt-2 transition-transform duration-500 ease-in-out translate-x-0 shrink-0 z-20 flex-grow flex flex-col justify-between pb-[100px]"> 
      <!-- Added pb-[100px] for fixed controls height -->
      <!-- Album Art Background Layer -->
      <div id="now-playing-album-art-bg" class="absolute inset-0 w-full h-full bg-cover bg-center transition-all duration-500 ease-in-out z-0" style="background-image: url('cover.png');"></div>

      <!-- Gradient Overlay -->
      <div class="absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-emerald-950 via-emerald-950/70 to-transparent z-10 pointer-events-none"></div>

      <!-- Content Area (Track Info) -->
      <div class="relative z-20 p-6 flex flex-col justify-end h-full">
        <h2 class="funnel-sans text-3xl text-white px-0 pt-4 flex flex-row items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 text-spotify">
                <path fill-rule="evenodd" d="M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z" clip-rule="evenodd" />
              </svg>
            <span class="caps">NOW PLAYING</span>
        </h2>

        <div class="track-meta w-full flex flex-col gap-1 mt-auto"> 
            <!-- Removed grid, using flex for full width -->
            <div class="info flex flex-col gap-1">
                <h2 class="track flex flex-col gap-1 text-xl font-semibold">
                    <span class="artist-name uppercase text-base text-emerald-100/80 line-clamp-1 leading-none">Artist Name</span>
                    <span class="track-title funnel-display text-2xl text-white line-clamp-2 leading-tight">Track Title</span>
            </h2>
                <p class="album-title text-emerald-200/70 line-clamp-1 leading-none">Album Title</p>
            </div>
            <div class="time flex flex-row justify-between text-emerald-200/70 text-xs mt-2">
                <div class="time-elapsed">0:00</div>
                <div class="time-total">0:00</div>
            </div>
        </div>
    </div>
    </div>

    <!-- Media Controls - Fixed at the bottom -->
    <div class="media-controls fixed bottom-0 left-0 right-0 flex items-center justify-center gap-8 pb-4 pt-0 px-6 z-50 transform-gpu">
        <!-- Previous Button -->
        <button id="previous-btn" class="p-3 rounded-lg hover:bg-emerald-700/50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-950">
            <svg viewBox="0 0 134 134" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="size-10 text-emerald-100">
                <path d="M77.7763 48.3749L62.2603 63.8909L77.7763 79.4069V48.3749ZM78.594 88.0722L56.37 65.8536C55.2867 64.7702 55.2867 63.0098 56.37 61.9265L78.594 39.7025C80.344 37.9525 83.3336 39.1921 83.3336 41.6661V86.1088C83.3336 88.5828 80.344 89.8222 78.594 88.0722ZM44.4434 41.6656C44.4434 40.1292 45.6881 38.8896 47.2246 38.8896C48.7558 38.8896 50.0006 40.1292 50.0006 41.6656V86.1082C50.0006 87.6446 48.7558 88.8894 47.2246 88.8894C45.6882 88.8894 44.4434 87.6446 44.4434 86.1082V41.6656Z" />
            </svg>
        </button>
        
        <!-- Play/Pause Button -->
        <button id="play-pause-btn" class="p-4 rounded-xl bg-white hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-4 focus:ring-offset-emerald-950 shadow-lg">
            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10 text-emerald-950">
                <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z" clip-rule="evenodd" />
            </svg>
            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-10 text-emerald-950 hidden">
                <path fill-rule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clip-rule="evenodd" />
            </svg>
        </button>
        
        <!-- Next Button -->
        <button id="next-btn" class="p-3 rounded-lg hover:bg-emerald-700/50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-950">
            <svg viewBox="0 0 134 134" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="size-10 text-emerald-100">
                <path d="M49.1882 88.0733C47.4382 89.8233 44.4434 88.5838 44.4434 86.1097V41.6671C44.4434 39.1931 47.4382 37.9535 49.1882 39.7035L71.4068 61.9275C72.4954 63.0108 72.4954 64.7712 71.4068 65.8545L49.1882 88.0733ZM65.5162 63.8907L50.0002 48.3747V79.4053L65.5162 63.8907ZM77.7766 41.6667C77.7766 40.1303 79.0213 38.8907 80.5578 38.8907C82.089 38.8907 83.3338 40.1303 83.3338 41.6667V86.1093C83.3338 87.6457 82.089 88.8905 80.5578 88.8905C79.0214 88.8905 77.7766 87.6458 77.7766 86.1093V41.6667Z" />
            </svg>
        </button>
    </div>

    <!-- Settings Menu Panel -->
    <div id="settings-menu" class="fixed top-0 right-0 h-full w-[80%] max-w-md z-50 p-6 transform translate-x-full transition-transform duration-500 ease-in-out overflow-y-auto funnel-sans">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-semibold text-emerald-100">Settings</h2>
            <button id="close-settings-menu" class="text-spotify hover:text-emerald-100">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8">
                    <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.72a.75.75 0 0 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd" />
                </svg>
            </button>
    </div>

        <div class="space-y-6">
            <!-- Playback Settings Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Playback</h3>
                <ul class="divide-y divide-emerald-700 bg-black/80 rounded-lg shadow">
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Crossfade</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-gray-200 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="false">
                            <span class="sr-only">Crossfade</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-0 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Gapless Playback</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-emerald-500 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="true">
                            <span class="sr-only">Gapless Playback</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-5 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4 hover:bg-emerald-700/30 cursor-pointer">
                        <span class="text-emerald-100">Audio Quality</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-emerald-400">
                            <path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
                        </svg>
                    </li>
                </ul>
            </div>

            <!-- Download Settings Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Downloads</h3>
                <ul class="divide-y divide-emerald-700 bg-black/80 rounded-lg shadow">
                    <li class="flex items-center justify-between p-4">
                        <span class="text-emerald-100">Download using Cellular</span>
                        <button type="button" class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent bg-gray-200 transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-emerald-800 focus:outline-none" role="switch" aria-checked="false">
                            <span class="sr-only">Download using Cellular</span>
                            <span aria-hidden="true" class="pointer-events-none inline-block size-5 translate-x-0 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"></span>
                        </button>
                    </li>
                    <li class="flex items-center justify-between p-4 hover:bg-emerald-700/30 cursor-pointer">
                        <span class="text-emerald-100">Clear Cache</span>
                        <span class="text-sm text-emerald-400">1.2 GB</span>
                    </li>
                </ul>
            </div>
            
            <!-- Playlist Stations Section -->
            <div>
                <h3 class="text-xs font-medium text-emerald-400 uppercase mb-2">Playlist Stations</h3>
                <fieldset class="bg-black/80 rounded-lg shadow p-4">
                    <legend class="sr-only">Playlist Stations</legend>
                    <div class="space-y-5" id="playlist-stations-list">
                        <!-- Checkboxes will be dynamically inserted here by JavaScript if we want to make it dynamic -->
                        <!-- For now, static example based on STATIONS -->
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-90s" name="station-90s" type="checkbox" checked class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-90s" class="font-medium text-emerald-100">90s Throwbacks</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-80s" name="station-80s" type="checkbox" checked class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-80s" class="font-medium text-emerald-100">All Out 80s</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-70s" name="station-70s" type="checkbox" checked class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-70s" class="font-medium text-emerald-100">70s Gold</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-2k" name="station-2k" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-2k" class="font-medium text-emerald-100">Y2K Hits</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-oldies" name="station-oldies" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-oldies" class="font-medium text-emerald-100">Golden Oldies</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-new" name="station-new" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-new" class="font-medium text-emerald-100">Fresh Finds</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-party" name="station-party" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-party" class="font-medium text-emerald-100">Party Bangers</label>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="flex h-6 shrink-0 items-center">
                                <div class="group grid size-4 grid-cols-1">
                                <input id="station-highschool" name="station-highschool" type="checkbox" class="col-start-1 row-start-1 appearance-none rounded-sm border border-emerald-600 bg-white checked:border-emerald-500 checked:bg-emerald-500 indeterminate:border-emerald-500 indeterminate:bg-emerald-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto">
                                <svg class="pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-gray-950/25" viewBox="0 0 14 14" fill="none">
                                    <path class="opacity-0 group-has-checked:opacity-100" d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                </div>
                            </div>
                            <div class="text-sm/6">
                                <label for="station-highschool" class="font-medium text-emerald-100">HS Rewind</label>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

<!-- Global Playback Scrubber -->
    <div class="fixed bottom-0 top-0 left-0 w-full pointer-events-none z-30">
      <div class="progress h-full bg-emerald-800/40 transition-all duration-200 border-r-3 border-[#00FF19]" style="width: 0%;"></div>
    </div>

<!-- Bg art shade -->
<div class="art-shade fixed inset-0 z-9 bg-cover bg-center transition-all duration-1000 ease-in-out blur-sm mix-blend-luminosity" style="opacity: 0;">
</div>

<!-- Spotify Auth Overlay -->
    <div id="spotify-auth-overlay" class="fixed inset-0 bg-emerald-950 bg-opacity-95 flex flex-col items-center justify-center z-100" style="display: none;">
        <button id="connect-spotify-btn" class="funnel-sans bg-green-500 hover:bg-green-400 text-white text-2xl py-4 px-8 rounded-full shadow-lg focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-opacity-50 transition duration-150 ease-in-out transform hover:scale-105">
            <img src="spotify.svg" alt="Spotify" class="w-24 h-auto">
  </button>
</div>

    <!-- Load the refactored JavaScript -->
    <script src="./src/spotify-player.js"></script>
    <script src="./src/menu.js"></script>
</body>
</html> 